CREATE TABLE users (
  id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(30) NOT NULL
);

CREATE TABLE posts (
  id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
  content VARCHAR(100) NOT NULL,
  /* 
    ON DELETE RESTRICT === ON DELETE NO ACTION, because of that we have 2 options:
    1. ON DELETE NO ACTION when db will not give us opportunity to delete row
    2. ON DELETE SET NULL when db will be set NULL in foreign key column on delete
   */
  userId INT REFERENCES users(id) ON DELETE SET NULL
);

INSERT INTO users(name) 
VALUES ('john'), ('andrew'), ('alfred');

INSERT INTO posts(content, userId) 
VALUES ('john post 1', 1), ('john post 2', 1),
('andrew post 1', 2), ('andrew post 2', 2),
('alfred post 1', 3), ('alfred post 2', 3);

DELETE FROM users;

SELECT * FROM posts;
CREATE TABLE users (
  id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(30) NOT NULL
);

CREATE TABLE posts (
  id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
  content VARCHAR(100) NOT NULL,
  userId INT REFERENCES users(id) ON UPDATE CASCADE
);

CREATE TABLE users_posts (
  id INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
  userId INT REFERENCES users(id),
  postId INT REFERENCES posts(id)
);

INSERT INTO users(name) 
VALUES ('john'), ('andrew'), ('alfred');

INSERT INTO posts(content) 
VALUES ('john alfred post'), ('john andrew post'), ('andrew alfred post'), ('john alfred andrew post');

INSERT INTO users_posts(userId, postId)
VALUES (1, 1), (1, 2), (1, 4), 
(2, 2), (2, 3), (2, 4),
(1, 3), (3, 3), (3, 4);

SELECT users.name, posts.content FROM users_posts
LEFT JOIN users ON users_posts.userId = users.id
LEFT JOIN posts ON users_posts.postId = posts.id;